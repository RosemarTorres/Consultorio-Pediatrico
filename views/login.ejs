<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/styles/style.css">
    <link rel="stylesheet" href="/styles/display.css">
    <title>Document</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Roboto+Condensed:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
</head>
<style>


</style>
<body> 
 
  <div class="background"> 
   
    <img class="svg"	  src="/img/svg/nino.png" alt="Descripción del SVG">
  </div>
  <div class="container"> 
 <div class="container-itens"> 
  <img class="svg1"	  src="/img/svg/nino.png" alt="Descripción del SVG">

      <label class="textInputs" style="font-size: 33px; text-align: center;color:#218a96; font-weight: 700; font-family:Roboto Condensed ; padding-left: none;"> Gestión y Administración de Pacientes</label> 
      <form class="formCenter" id='login'> <!-- Agregar el login -->
        <div class="content-inputs"> 
          <div class="form__group field">
            <input type="text" class="form__field" placeholder="Name" name="usuario" id='username' required />
            <label for="name" class="form__label">Usuario</label>
          </div>
          <div class="form__group field">
            <input type="input" class="form__field" placeholder="Name" name="password" id='password' required />
            <label for="name" class="form__label">Contraseña</label>
          </div> <!-- Asegúrate de que el name esté aquí -->
        </div> 
        <div class="container-btn">
        <button class="btn-Login " type="submit">Entrar</button> <!-- Cambiar type a submit -->
      </div>
      </form>
    </div> 
  </div>   

  <script type="text/javascript">
    const login = document.getElementById('login');

    login.addEventListener('submit',event=>{
    event.preventDefault();

     const data = new FormData(login);


    const usuario = data.get('usuario');
    const password = data.get('password');
   

    fetch('/',{
        method:'post',
        headers:{
            'Content-Type':'application/json'
        },
        body:JSON.stringify({usuario,password})
    })
    .then(res=>res.json())
    .then(res=>{
        if(res.interruptor){
         alert('Bienvenido');
         setTimeout(()=>{
         window.location.href='/home';
         },2000);
        }else{
        alert('credenciales erroneas');
        }
    })
    });

</script>
</body>

</html>